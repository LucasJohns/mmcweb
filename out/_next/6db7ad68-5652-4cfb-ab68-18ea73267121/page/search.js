module.exports=__NEXT_REGISTER_PAGE("/search",function(){var e=webpackJsonp([2],{305:function(e,t,r){e.exports=r(306)},306:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(9);var n=r.n(a);var o=r(0);var c=r.n(o);var l=r(22);var i=r(23);var s=r.n(i);var u=r(24);var f=r(55);var h=r.n(f);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){b(t,e);function t(){v(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"render",value:function e(){var t=this.props,r=t.searchResult,a=t.searchField,n=t.handleChange;return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{id:"imaginary_container"},c.a.createElement("h1",null,"Search"),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",value:a,className:"form-control",onChange:n,placeholder:"Search",style:{height:"44px"}}))),!!r&&r.map(function(e,t){return c.a.createElement("div",{key:"search_"+t},c.a.createElement("h2",null,e.title),c.a.createElement("p",null,e.teaser),c.a.createElement("div",null,c.a.createElement(h.a,{href:e.permalink},c.a.createElement("a",null,"Read more"))))})))}}]);return t}(c.a.Component);var g=d;var y=r(25);var E=r(35);var w=r(26);var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();function x(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,o){try{var c=t[n](o);var l=c.value}catch(e){r(e);return}if(!c.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}return a("next")})}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=function(e){P(t,e);O(t,null,[{key:"getInitialProps",value:function(){var e=x(n.a.mark(function e(t){var r=t.req,a=t.query;var o,c,i,s,u,f;return n.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return w["a"].getGlobals();case 2:o=t.sent;t.next=5;return w["a"].getObjects();case 5:c=t.sent;t.next=8;return w["a"].getObject("search");case 8:i=t.sent;s=c.objects;u=i.object;f=Object(l["b"])(o.objects);return t.abrupt("return",{globals:f,bucket:s,search:u});case 13:case"end":return t.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleChange=function(e){var t=e.target.value;var a=r.state.searchField;a=t;r.setState({searchField:a});var n=r.state.bucket;var o=r.state.searchResult;var c=[];var l=t;!l||n.forEach(function(e){if(-1!==e.title.toLowerCase().indexOf(l)||-1!==e.content.toLowerCase().indexOf(l)){e.teaser=e.content.replace(/(<([^>]+)>)/gi,"").substring(0,300);"blogs"===e.type_slug?e.permalink="/blog/"+e.slug:e.permalink="/"+e.slug;c.push(e)}_.find(c,{_id:e._id})||e.metafields.forEach(function(t){if(-1!==t.value.toLowerCase().indexOf(l)&&!_.find(c,{_id:e._id})){e.teaser=e.content.replace(/(<([^>]+)>)/gi,"").substring(0,300);"blogs"===e.type_slug?e.permalink="/blog/"+e.slug:e.permalink="/"+e.slug;c.push(e)}})});o=c;r.setState({searchResult:o})};r.state={header:e.globals.header,contact_form:e.globals.contact_form,nav:e.globals.nav,social:e.globals.social,contactInfo:e.globals.contact_info.metadata,footer:e.globals.footer,bucket:e.bucket,searchResult:"",searchField:"",search:e.search};return r}O(t,[{key:"render",value:function e(){return c.a.createElement(u["a"],null,c.a.createElement(s.a,null,c.a.createElement("title",null,"Medical Professional ~ Cosmic JS Next Js App"),c.a.createElement("meta",{name:"description",content:this.state.search.metadata.seo_description.value}),c.a.createElement("link",{rel:"icon",type:"image/png",href:this.state.header.metadata.favicon.imgix_url+"?w=32",sizes:"32x32"}),c.a.createElement("link",{rel:"icon",type:"image/png",href:this.state.header.metadata.favicon.imgix_url+"?w=16",sizes:"16x16"})),c.a.createElement(y["a"],{header:this.state.header,nav:this.state.nav}),c.a.createElement(g,{handleChange:this.handleChange,searchField:this.state.searchField,searchResult:this.state.searchResult}),c.a.createElement(E["a"],{footer:this.state.footer,social:this.state.social,contactInfo:this.state.contactInfo}))}}]);return t}(c.a.Component);var R=t["default"]=C}},[305]);return{page:e.default}});